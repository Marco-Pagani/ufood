<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="styles/main.css">
</head>

<body ng-app="directoryApp">
  <div class="container">
    <div class="row text-center">
      <h1><b>UF Directory App</b></h1>
    </div>
    <div class="row" ng-controller="ListingsController">
      <div class="col-md-6">
        <div class="input-group" id="searchBar">
          <span class="input-group-addon" id="sizing-addon1"><span class="glyphicon glyphicon-search"></span></span>
          <input type="text" class="form-control" placeholder="Search" ng-model="query">
        </div>
        <div class="tableWrapper">
          <table class="table table-striped table-hover table-bordered">
            <tr>
              <th>Code</th>
              <th>Building Name</th>
              <th></th>
            </tr>
            <tr ng-repeat="listing in listings | filter: query" ng-click="showDetails(listing)">
              <td>{{listing.code}}</td>
              <td>{{listing.name}}</td>
              <td ng-click="deleteListing($index)"><span style="color: red;" class="glyphicon glyphicon-remove"></span></td>
            </tr>
          </table>
        </div>

        <!--
          <form novalidate class="simple-form">
            <h2>Add New Listing</h2>
            Code: <input type="text" ng-model="newListing.code" /><br />
            Name: <input type="text" ng-model="newListing.name" /><br />
            Address: <input type="text" ng-model="newListing.address" /><br />
            <button class="btn btn-primary" ng-click="addListing()">Add Listing</button>
          </form>
        -->

        <div class="panel panel-primary" id="addForm">
          <div class="panel-heading" data-toggle="collapse" href="#collapse1" style="cursor: pointer;">
            Add New Listing
          </div>
          <div id="collapse1" class="panel-body panel-collapse collapse">
            <form novalidate class="simple-form">
              <div class="form-group">
                <label for="code">Building Code:</label>
                <input type="text" ng-model="newListing.code" class="form-control" id="code" required>
              </div>
              <div class="form-group">
                <label for="name">Building Name:</label>
                <input type="text" ng-model="newListing.name" class="form-control" id="name" required>
              </div>
              <div class="form-group">
                <label for="add">Address:</label>
                <input type="text" ng-model="newListing.address" class="form-control" id="add">
              </div>
              <div class="form-group">
                <label for="lat">Latitude:</label>
                <input type="text" ng-model="newListing.coordinates.latitude" class="form-control" id="lat">
                <label for="long">Longitude:</label>
                <input type="text" ng-model="newListing.coordinates.longitude" class="form-control" id="long">
              </div>

              <input type="submit" class="btn btn-primary" value="Add Listing" ng-click="addListing()">
            </form>
          </div>
        </div>



      </div>
      <div class="col-md-6">
        <div class="jumbotron">
          <div ng-show="detailedInfo == undefined">
            <h2>Listing Details</h2>
          </div>
          <div ng-show="detailedInfo != undefined">
            <h2> <b>{{detailedInfo.code}}</b> | {{detailedInfo.name}} </h2>
            <p>{{detailedInfo.address}}</p>
            <p><b>Latitude: &emsp;</b>{{detailedInfo.coordinates.latitude.toFixed(5)}}<br><b>Longitude: </b>{{detailedInfo.coordinates.longitude.toFixed(5)}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ=="
    crossorigin="anonymous"></script>
  <script src="https://code.angularjs.org/1.4.3/angular.js"></script>
  <script src="js/app.js"></script>
  <script src="js/factories/listingFactory.js"></script>
  <script src="js/controllers/listingController.js"></script>
</body>

</html>